<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:security="http://www.springframework.org/schema/security"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd 
http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-2.0.xsd">

	<!-- ensure element name is not overlapping with portlet or spring web flow or tapestry URI patterns, 
		as this filter is incompatible with them -->

	<import resource="remember-me-defaults.xml" />

	<security:authorization-http-url id="authorizationhttp">
		<security:url-mapping source="xml">
			<!-- Specify security:uri-patterns in order of processing; each pattern must specify EITHER a 
				regularExpression OR a path, but not both and ALL patterns in the url-mapping MUST be of the 
				SAME type (ie cannot mix a regular expression and Ant Path) - give exception if tried -->
			<security:uri-pattern regularExpression="/**">
				<security:configuration-attribute attribute="ROLE_A" />
				<security:configuration-attribute attribute="ROLE_B" />
			</security:uri-pattern>
			<security:uri-pattern regularExpression="whatever">
				<security:configuration-attribute attribute="ROLE_A" />
			</security:uri-pattern>
		</security:url-mapping>
	</security:authorization-http-url>



	<!--<bean id="filterInvocationInterceptor"
		class="org.springframework.security.intercept.web.FilterSecurityInterceptor">
		<property name="authenticationManager"
		ref="authenticationManager" />
		<property name="accessDecisionManager">
		<bean class="org.springframework.security.vote.AffirmativeBased">
		<property name="allowIfAllAbstainDecisions"
		value="false" />
		<property name="decisionVoters">
		<list>
		<bean class="org.springframework.security.vote.RoleVoter" />
		<bean
		class="org.springframework.security.vote.AuthenticatedVoter" />
		</list>
		</property>
		</bean>
		</property>
		<property name="objectDefinitionSource">
		<value>
		CONVERT_URL_TO_LOWERCASE_BEFORE_COMPARISON
		PATTERN_TYPE_APACHE_ANT
		/acegilogin.jsp=IS_AUTHENTICATED_ANONYMOUSLY
		/**=IS_AUTHENTICATED_REMEMBERED
		
		</value>
		</property>
		</bean>
	-->
</beans>