<html>
<body>
<p>Validation services for complex domain objects.</p>

<p>Generally you will write <code>Validator</code>s for each of your domain
objects, and add a {@link ValidationManager} to your application context. You
will need to wire a suitable {@link IntrospectionManager} against the
<code>ValidationManager</code> so that children of a domain object presented
for validation can be identified and in turn also validated.

<p>The {@link ValidationInterceptor} and {@link ValidationAdvisor} should be
used against each of your data access object (DAO) mutator methods, such as
<code>SomeDao.create(Object)</code> and <code>SomeDao.update(Object)</code>.
The interceptor will cause the <code>Object</code> to be presented to the
<code>ValidationManager</code>, thus ensuring the domain object instance is in
a valid state before being persisted.</p>

<p>If you domain objects themselves wish to ensure they are in a valid state
prior to internal business methods being invoked, it is suggested they provide
a <code>ValidationManager</code> collaborator, and fire its validate method.
Such collaborator can be autowired during both instance retrieval and creation.
It should generally also be marked as <code>transient</code>, to avoid possible
serialisation issues if used inside a <code>HttpSession</code> or similar.</p>

<p>Sometimes domain objects need to internally update themselves before being
validated. Any such domain objects should implement {@link BindBeforeValidation}.
The <code>ValidationManager</code> will fire the related method just prior to
validation, and you can do it manually using {@link BindBeforeValidationUtils}.
Using the utility class is generally preferred over calling the method
directly, as it ignores classes that do not implement
<code>BindBeforeValidation</code>.</p>

<p>Finally, sometimes <code>Validator</code>s might need to perform queries
against a persistence or services layer. For example, the <code>Validator</code>
may be checking no other user has this username. If using an ORM tool such as
Hibernate, it is recommended your <code>Validator</code>s subclass a common
abstract parent that provides an <code>evict(Object)</code> and 
<code>evict(Collection)</code> method. That way your <code>Validator</code>s
can utilise standard services layer or DAO methods as required to retrieve
other domain objects, and flush them from the session cache afterwards. Whilst
this is more a <code>Validator</code> design choice than something mandated by
this package, we have found it a worthwhile pattern in real-world applications.
</p>
</body>
</html>

